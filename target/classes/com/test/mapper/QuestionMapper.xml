<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.mapper.QuestionMapper">
	<resultMap id="questionMap" type="com.test.domain.QuestionVO">
		<id column="question_id" property="question_id"/>
		<result column="question_id" property="question_id"/>
		<result column="survey_id" property="survey_id"/>
		<result column="question_no" property="question_no"/>
		<result column="question_text" property="question_text"/>
		<result column="question_options" property="question_options"/>
		<result column="question_type" property="question_type"
					typeHandler="com.test.common.QuestionTypeHandler"/>
	</resultMap>
 	 <select id="getQuestionList" resultMap="questionMap">
	select question_id, survey_id, question_no, question_text
		, question_options, question_type from tbl_questions order by survey_id, question_no
	</select>
 	<insert id="insertQuestion">
		insert into tbl_questions (survey_id, question_no, question_text, question_options, question_type)
			values (#{survey_id}, #{question_no}, #{question_text}, #{question_options}, #{question_type})
	</insert>
	<update id = "updateQuestion">
		update tbl_questions set question_no=#{question_no}, qusestion_text=#{question_text}
			,question_options=${question_options},question_type=#{question_type}
			where question_id =#{question_id}
	</update>
	
</mapper>


